<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jhta.mybatis.mapper.lhjcjy.FirstSearchMapper">
	<select id="searchNotRev" resultType="com.jhta.spring30.vo.Room_InfoVo">
  		Select * from room_info where riid not in (select riid from reservation where rcheckin is not null)
  	</select>
  	<select id="searchInRev" parameterType="string" resultType="com.jhta.spring30.vo.AccommodationsVo">
  		select ac.* from accommodations ac, reservation rs, room_info ri where ac.aid = ri.aid and ri.riid = rs.riid 
  		<![CDATA[ and to_char(rs.rcheckout, 'YY-MM-dd') <= to_char(#{rcheckout}, 'YY-MM-dd') ]]>
  	</select>
</mapper>

